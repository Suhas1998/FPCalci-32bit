<!DOCTYPE html>
<html>
<head>
  <title>Floating Point numbers calculator</title>
  <script src="calculate.js"></script>
  <script >
    window.onload=function(){
      const addField = document.getElementById("add");
      const removeField = document.getElementById("remove");
      var count = 1;
      const fieldsdiv = document.getElementById("fields");
      addField.addEventListener("click", function(){
        if(count<15){
          count++;
          document.getElementById('count').innerHTML = count;
          const newField = document.createElement('span');
          newField.className = 'numberField';
          var select = document.createElement('select');
          select.id = "operator" + (count-1);
          var option = document.createElement('option');
          option.value = "add";
          option.text = "Add";
          select.add(option);
          var option = document.createElement('option');
          option.value = "subtract";
          option.text = "Subtract";
          select.appendChild(option);
          var option = document.createElement('option');
          option.value = "multiply";
          option.text = "Multiply";
          select.appendChild(option);
          var option = document.createElement('option');
          option.value = "divide";
          option.text = "Divide";
          select.appendChild(option);
          newField.appendChild(select);
          newField.appendChild(document.createElement('br'));
          var text = document.createTextNode('Number '+count+': ');
          newField.appendChild(text);
          var inp1 = document.createElement('input');
          inp1.type = "number";
          inp1.name = "num"+count;
          inp1.id = "num"+count;
          inp1.setAttribute("onchange", "toBinary("+count+")")
          newField.appendChild(inp1);
          var inp2 = document.createElement('input');
          inp2.type = "text";
          inp2.maxlength = "64";
          inp2.id = "bin"+count;
          newField.appendChild(inp2);
          newField.appendChild(document.createElement('br'));
          fieldsdiv.appendChild(newField);
        }else{
          console.log("Dude!! Why do you want to add more???");
        }
      });
      removeField.addEventListener("click", function(){
        if (count>1) {
          count--;
          document.getElementById('count').innerHTML = count;
          fieldsdiv.removeChild(fieldsdiv.childNodes[count-1]);
        }else{
          console.log("Cant remove the only field");
        }
      })
    }
  </script>
</head>
<body>
  <div>
    <h2>Calculator</h2>
    <span> Number of fields :</span><span id="count">1</span><button id="add">Add Field</button><button id="remove">Remove Field</button><br>
    <form>
      Number 1: <input type="number" name="num1" id="num1" onchange="toBinary(1)"></input> <input type="text" maxlength="64" id="bin1"/></input> <br>
      <div id="fields"></div>
      <input type="button" value="Calculate" onclick="calculate()" /></input><br>
      Result : <input type="number" name="result" id="result"></input> <input type="text" maxlength="64" id="resultBin"/></input> <br>
    </form>

  </div>
</body>
</html>
